<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Permanent IP w/Mobility: SimpleMobileNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Permanent IP w/Mobility&#160;<span id="projectnumber">0.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classSimpleMobileNode.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>SimpleMobileNode Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="SimpleMobileNode" --><!-- doxytag: inherits="MobileNode" -->
<p><code>#include &lt;<a class="el" href="SimpleMobileNode_8h_source.html">SimpleMobileNode.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SimpleMobileNode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classSimpleMobileNode.png" usemap="#SimpleMobileNode_map" alt=""/>
  <map id="SimpleMobileNode_map" name="SimpleMobileNode_map">
<area href="classMobileNode.html" alt="MobileNode" shape="rect" coords="0,0,117,24"/>
</map>
 </div></div>

<p><a href="classSimpleMobileNode-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a794461012fcc290301b418c20d536b2e">SimpleMobileNode</a> (<a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a> logical_address, <a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a> dns_server, <a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a> rendezvous_server)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a48f0719b3599098ce8a23bd4fc293a6a">~SimpleMobileNode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a6be2d30ecfd74e51df05ac4d69aa6d14">Start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#ac69d586d9201a1e435c4ad952a38cdd3">ShutDown</a> (const char *format,...)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual struct sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a4d04f5dc08ee0f4af5c367b1fffd5c35">RegisterPeer</a> (int app_socket, <a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a> peer_addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a5ec97ce6c67d2a12bdff4e63ab6ef6dc">MessageSent</a> (int app_socket, <a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#abf34824d90f0891c435e2c7deb06f869">MessageReceived</a> (int app_socket, <a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> message)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a9f1e21ca62a602f103d28b6180aba618">UpdateRendezvousServer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a5beb7d6ba8ffde3686f2c65a516b7e1a">PollSubscriptions</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a868820a10df1d00e6b3ef4580e70c976">ConnectToServer</a> (<a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a> server_addr, unsigned short server_port, <a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> information, int sender=-1)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#afb771673f1285d8c59d9b3c48aedc7a0">logical_address_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a8541a723951dda7ddb27c07251064ac6">last_known_ip_address_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a5bdcf316acf90bc6c75001e8ceea569e">dns_server_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a3a43d81799f450afd1c87ff14a95dcd2">rendezvous_server_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a07387e37680bd8570a0eeacfaf5245f4">rendezvous_port_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a117cd22d47c8a8650789da8fbbec5aa2">domain_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#acb02ea515e5980a686fed620a493b311">TransportLayer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a9ee270e829ed43a8fc01240c30bd2f79">transport_layer_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="Types_8h.html#aac39b55be6469395f55ff0292ad8184c">Protocol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a507fc7e73995161f89e2bcd29cb8557d">protocol_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unordered_map&lt; int, struct <br class="typebreak"/>
sockaddr * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#a8d8230fcc1383f7d0910aa9a3f68b325">app_sockets_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unordered_map&lt; int, set<br class="typebreak"/>
&lt; <a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimpleMobileNode.html#ac14fdff4c9c04672532db79f6f0d043f">app_socket_messages_</a></td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a794461012fcc290301b418c20d536b2e"></a><!-- doxytag: member="SimpleMobileNode::SimpleMobileNode" ref="a794461012fcc290301b418c20d536b2e" args="(LogicalAddress logical_address, PhysicalAddress dns_server, PhysicalAddress rendezvous_server)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimpleMobileNode::SimpleMobileNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a>&#160;</td>
          <td class="paramname"><em>logical_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a>&#160;</td>
          <td class="paramname"><em>dns_server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a>&#160;</td>
          <td class="paramname"><em>rendezvous_server</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The constructor for a mobile node is responsible for initializing the various member variables </p>

</div>
</div>
<a class="anchor" id="a48f0719b3599098ce8a23bd4fc293a6a"></a><!-- doxytag: member="SimpleMobileNode::~SimpleMobileNode" ref="a48f0719b3599098ce8a23bd4fc293a6a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual SimpleMobileNode::~SimpleMobileNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The simple mobile node implementation destructor does not need to free any data because none is aggregated </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a868820a10df1d00e6b3ef4580e70c976"></a><!-- doxytag: member="SimpleMobileNode::ConnectToServer" ref="a868820a10df1d00e6b3ef4580e70c976" args="(PhysicalAddress server_addr, unsigned short server_port, NetworkMsg information, int sender=&#45;1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> SimpleMobileNode::ConnectToServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a>&#160;</td>
          <td class="paramname"><em>server_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>server_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&#160;</td>
          <td class="paramname"><em>information</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sender</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A mobile agent needs to connect to arbitrary servers to gain information. However, this separation is not strictly required, we provide it for a simple mobile node as a means of conciseness</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">server_addr</td><td>The physical address of the server to connect to </td></tr>
    <tr><td class="paramname">server_port</td><td>The server port we will attempt the connection </td></tr>
    <tr><td class="paramname">information</td><td>The message we wish to send to the server </td></tr>
    <tr><td class="paramname">sender</td><td>The socket to send the message on (if there isn't a special one we have in mind we create a vanilla one)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The message we received back from the server, or "" if an error occurred in connection </dd></dl>

</div>
</div>
<a class="anchor" id="abf34824d90f0891c435e2c7deb06f869"></a><!-- doxytag: member="SimpleMobileNode::MessageReceived" ref="abf34824d90f0891c435e2c7deb06f869" args="(int app_socket, NetworkMsg message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleMobileNode::MessageReceived </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Any application needs to notify the mobile node client when a message is received so that it can free it from the buffer pool and not resend in the case of failure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">app_socket</td><td>The app socket on which to send the message </td></tr>
    <tr><td class="paramname">message</td><td>The message for which ACK was received </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classMobileNode.html#a51b4434f0714f4532a86dfc8e0852dfa">MobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a5ec97ce6c67d2a12bdff4e63ab6ef6dc"></a><!-- doxytag: member="SimpleMobileNode::MessageSent" ref="a5ec97ce6c67d2a12bdff4e63ab6ef6dc" args="(int app_socket, NetworkMsg message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleMobileNode::MessageSent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Any application needs to notify the mobile node client when a message is sent so that it can pack it into a buffer and resend if necessary.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">app_socket</td><td>The app socket on which to send the message </td></tr>
    <tr><td class="paramname">message</td><td>The message being sent </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classMobileNode.html#ac2c110d2c4fed04779217cf699cdbeaf">MobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a5beb7d6ba8ffde3686f2c65a516b7e1a"></a><!-- doxytag: member="SimpleMobileNode::PollSubscriptions" ref="a5beb7d6ba8ffde3686f2c65a516b7e1a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleMobileNode::PollSubscriptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The mobile node also polls the active subscriptions so that if any of our peers have changed location we can reconnect with minimal packet loss. </p>

<p><p>Resend all outstanding messages </p>
</p>

<p>Implements <a class="el" href="classMobileNode.html#a144fe0de8f3ce51871767e5f749e4544">MobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a4d04f5dc08ee0f4af5c367b1fffd5c35"></a><!-- doxytag: member="SimpleMobileNode::RegisterPeer" ref="a4d04f5dc08ee0f4af5c367b1fffd5c35" args="(int app_socket, LogicalAddress peer_addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sockaddr * SimpleMobileNode::RegisterPeer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a>&#160;</td>
          <td class="paramname"><em>peer_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Any application needs to register an open socket so that it can be intercepted and updated/polled</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">app_socket</td><td>The app socket being registered for the new peer </td></tr>
    <tr><td class="paramname">peer_addr</td><td>The logical address of the peer being registered</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a generic sockaddr struct that can be reinterpreted by the application to send messages to the peer. The mobile node retains this pointer so that it can transparently update the peer's location </dd></dl>

<p>Implements <a class="el" href="classMobileNode.html#adaea551c0eb09f79c7f33589b2ee785b">MobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="ac69d586d9201a1e435c4ad952a38cdd3"></a><!-- doxytag: member="SimpleMobileNode::ShutDown" ref="ac69d586d9201a1e435c4ad952a38cdd3" args="(const char *format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimpleMobileNode::ShutDown </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>In order to kill the mobile node daemon, we use a SIGINT, which calls the <a class="el" href="classSimpleMobileNode.html#ac69d586d9201a1e435c4ad952a38cdd3">ShutDown()</a> method (closing open sockets and telling the program to exit)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The format of the message to print before exiting </td></tr>
    <tr><td class="paramname">...</td><td>The list of arguments to pass to the exit message</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>False always </dd></dl>

<p>Implements <a class="el" href="classMobileNode.html#a196391b205ed0d0f3efe28145b253038">MobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a6be2d30ecfd74e51df05ac4d69aa6d14"></a><!-- doxytag: member="SimpleMobileNode::Start" ref="a6be2d30ecfd74e51df05ac4d69aa6d14" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimpleMobileNode::Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The mobile node follows a typical server-like mechanism, where the <a class="el" href="classSimpleMobileNode.html#a6be2d30ecfd74e51df05ac4d69aa6d14">Start()</a> function is responsible for registering the current IP address at the designated rendezvous server, constantly updating the RS and polling the existing subscriptions for updates.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True unless there was an error connecting to the RS </dd></dl>

<p>Implements <a class="el" href="classMobileNode.html#a6da1ea108ee47bb2f7fd02f1f6705617">MobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a9f1e21ca62a602f103d28b6180aba618"></a><!-- doxytag: member="SimpleMobileNode::UpdateRendezvousServer" ref="a9f1e21ca62a602f103d28b6180aba618" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SimpleMobileNode::UpdateRendezvousServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The mobile agent's major function is to automatically service out updates in its location. </p>

<p>Implements <a class="el" href="classMobileNode.html#aaad6e5f3aefb61df69ee8b981e8a377e">MobileNode</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ac14fdff4c9c04672532db79f6f0d043f"></a><!-- doxytag: member="SimpleMobileNode::app_socket_messages_" ref="ac14fdff4c9c04672532db79f6f0d043f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt;int, set&lt;<a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&gt; &gt; <a class="el" href="classSimpleMobileNode.html#ac14fdff4c9c04672532db79f6f0d043f">SimpleMobileNode::app_socket_messages_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>We keep track of a list of previously sent messages over the network so that if we need to reconnect we can resend </p>

</div>
</div>
<a class="anchor" id="a8d8230fcc1383f7d0910aa9a3f68b325"></a><!-- doxytag: member="SimpleMobileNode::app_sockets_" ref="a8d8230fcc1383f7d0910aa9a3f68b325" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt;int, struct sockaddr*&gt; <a class="el" href="classSimpleMobileNode.html#a8d8230fcc1383f7d0910aa9a3f68b325">SimpleMobileNode::app_sockets_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>We keep track of the applications with open sockets (a mapping of app socket to the peer sockaddr struct it connects to) </p>

</div>
</div>
<a class="anchor" id="a5bdcf316acf90bc6c75001e8ceea569e"></a><!-- doxytag: member="SimpleMobileNode::dns_server_" ref="a5bdcf316acf90bc6c75001e8ceea569e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a> <a class="el" href="classSimpleMobileNode.html#a5bdcf316acf90bc6c75001e8ceea569e">SimpleMobileNode::dns_server_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Listed connection to the main <a class="el" href="classDNS.html">DNS</a> </p>

</div>
</div>
<a class="anchor" id="a117cd22d47c8a8650789da8fbbec5aa2"></a><!-- doxytag: member="SimpleMobileNode::domain_" ref="a117cd22d47c8a8650789da8fbbec5aa2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#aad75d6f4f14a7b791076c6785aa59be4">Domain</a> <a class="el" href="classSimpleMobileNode.html#a117cd22d47c8a8650789da8fbbec5aa2">SimpleMobileNode::domain_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>We specify how we communicate with other people via domain (Default: <a class="el" href="Types_8h.html#a093fee289ab4b3b250a752a503d471bd">GLOB_DOM</a>)... </p>

</div>
</div>
<a class="anchor" id="a8541a723951dda7ddb27c07251064ac6"></a><!-- doxytag: member="SimpleMobileNode::last_known_ip_address_" ref="a8541a723951dda7ddb27c07251064ac6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classSimpleMobileNode.html#a8541a723951dda7ddb27c07251064ac6">SimpleMobileNode::last_known_ip_address_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>...and change the IP interface if we roamed </p>

</div>
</div>
<a class="anchor" id="afb771673f1285d8c59d9b3c48aedc7a0"></a><!-- doxytag: member="SimpleMobileNode::logical_address_" ref="afb771673f1285d8c59d9b3c48aedc7a0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a> <a class="el" href="classSimpleMobileNode.html#afb771673f1285d8c59d9b3c48aedc7a0">SimpleMobileNode::logical_address_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>We keep the current node's logical address stashed... </p>

</div>
</div>
<a class="anchor" id="a507fc7e73995161f89e2bcd29cb8557d"></a><!-- doxytag: member="SimpleMobileNode::protocol_" ref="a507fc7e73995161f89e2bcd29cb8557d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#aac39b55be6469395f55ff0292ad8184c">Protocol</a> <a class="el" href="classSimpleMobileNode.html#a507fc7e73995161f89e2bcd29cb8557d">SimpleMobileNode::protocol_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>...and protocol (Default: <a class="el" href="Types_8h.html#ad0b1be54bfaab7f9574c1b6fbca6b470">GLOB_PROTO</a>)... </p>

</div>
</div>
<a class="anchor" id="a07387e37680bd8570a0eeacfaf5245f4"></a><!-- doxytag: member="SimpleMobileNode::rendezvous_port_" ref="a07387e37680bd8570a0eeacfaf5245f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short <a class="el" href="classSimpleMobileNode.html#a07387e37680bd8570a0eeacfaf5245f4">SimpleMobileNode::rendezvous_port_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>...and the port we connect to it on </p>

</div>
</div>
<a class="anchor" id="a3a43d81799f450afd1c87ff14a95dcd2"></a><!-- doxytag: member="SimpleMobileNode::rendezvous_server_" ref="a3a43d81799f450afd1c87ff14a95dcd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#aa11b1ec0f62190dcb2935216fa8898f9">PhysicalAddress</a> <a class="el" href="classSimpleMobileNode.html#a3a43d81799f450afd1c87ff14a95dcd2">SimpleMobileNode::rendezvous_server_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Listed connection the main RS... </p>

</div>
</div>
<a class="anchor" id="a9ee270e829ed43a8fc01240c30bd2f79"></a><!-- doxytag: member="SimpleMobileNode::transport_layer_" ref="a9ee270e829ed43a8fc01240c30bd2f79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Types_8h.html#acb02ea515e5980a686fed620a493b311">TransportLayer</a> <a class="el" href="classSimpleMobileNode.html#a9ee270e829ed43a8fc01240c30bd2f79">SimpleMobileNode::transport_layer_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>...transport layer (Default: <a class="el" href="Types_8h.html#a91f9332ee2904f8e8e40ade6285f0b67">GLOB_TL</a>)... </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/accts/tcd2/Documents/Senior/Independent_Research/Fall/PermanentIPMobility/src/MobileNode/<a class="el" href="SimpleMobileNode_8h_source.html">SimpleMobileNode.h</a></li>
<li>/home/accts/tcd2/Documents/Senior/Independent_Research/Fall/PermanentIPMobility/src/MobileNode/<a class="el" href="SimpleMobileNode_8cc.html">SimpleMobileNode.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classSimpleMobileNode.html">SimpleMobileNode</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
