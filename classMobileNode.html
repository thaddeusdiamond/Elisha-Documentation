<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Permanent IP w/Mobility: MobileNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Permanent IP w/Mobility&#160;<span id="projectnumber">0.1</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classMobileNode.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<h1>MobileNode Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="MobileNode" -->
<p><code>#include &lt;<a class="el" href="MobileNode_8h_source.html">MobileNode.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MobileNode:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMobileNode.png" usemap="#MobileNode_map" alt=""/>
  <map id="MobileNode_map" name="MobileNode_map">
<area href="classSimpleMobileNode.html" alt="SimpleMobileNode" shape="rect" coords="0,56,117,80"/>
</map>
 </div></div>

<p><a href="classMobileNode-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#a2934b692064b73029065b9e51663e1f4">~MobileNode</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#a6da1ea108ee47bb2f7fd02f1f6705617">Start</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#a196391b205ed0d0f3efe28145b253038">ShutDown</a> (const char *format,...)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual struct sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#adaea551c0eb09f79c7f33589b2ee785b">RegisterPeer</a> (int app_socket, <a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a> peer_addr)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#ac2c110d2c4fed04779217cf699cdbeaf">MessageSent</a> (int app_socket, <a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> message)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#a51b4434f0714f4532a86dfc8e0852dfa">MessageReceived</a> (int app_socket, <a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a> message)=0</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#aaad6e5f3aefb61df69ee8b981e8a377e">UpdateRendezvousServer</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMobileNode.html#a144fe0de8f3ce51871767e5f749e4544">PollSubscriptions</a> ()=0</td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2934b692064b73029065b9e51663e1f4"></a><!-- doxytag: member="MobileNode::~MobileNode" ref="a2934b692064b73029065b9e51663e1f4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual MobileNode::~MobileNode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The destructor for a mobile node is responsible for freeing all memory associated with the mobile node daemon </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a51b4434f0714f4532a86dfc8e0852dfa"></a><!-- doxytag: member="MobileNode::MessageReceived" ref="a51b4434f0714f4532a86dfc8e0852dfa" args="(int app_socket, NetworkMsg message)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MobileNode::MessageReceived </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Any application needs to notify the mobile node client when a message is received so that it can free it from the buffer pool and not resend in the case of failure.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">app_socket</td><td>The app socket on which to send the message </td></tr>
    <tr><td class="paramname">message</td><td>The message for which ACK was received </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#abf34824d90f0891c435e2c7deb06f869">SimpleMobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="ac2c110d2c4fed04779217cf699cdbeaf"></a><!-- doxytag: member="MobileNode::MessageSent" ref="ac2c110d2c4fed04779217cf699cdbeaf" args="(int app_socket, NetworkMsg message)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MobileNode::MessageSent </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a951bf856dd7dccc089973fce1be8b6ed">NetworkMsg</a>&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Any application needs to notify the mobile node client when a message is sent so that it can pack it into a buffer and resend if necessary.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">app_socket</td><td>The app socket on which to send the message </td></tr>
    <tr><td class="paramname">message</td><td>The message being sent </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#a5ec97ce6c67d2a12bdff4e63ab6ef6dc">SimpleMobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a144fe0de8f3ce51871767e5f749e4544"></a><!-- doxytag: member="MobileNode::PollSubscriptions" ref="a144fe0de8f3ce51871767e5f749e4544" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MobileNode::PollSubscriptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The mobile node also polls the active subscriptions so that if any of our peers have changed location we can reconnect with minimal packet loss. </p>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#a5beb7d6ba8ffde3686f2c65a516b7e1a">SimpleMobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="adaea551c0eb09f79c7f33589b2ee785b"></a><!-- doxytag: member="MobileNode::RegisterPeer" ref="adaea551c0eb09f79c7f33589b2ee785b" args="(int app_socket, LogicalAddress peer_addr)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual struct sockaddr* MobileNode::RegisterPeer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>app_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Types_8h.html#a3f088b1a0cfe564f2e6f89e13ece5c64">LogicalAddress</a>&#160;</td>
          <td class="paramname"><em>peer_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Any application needs to register an open socket so that it can be intercepted and updated/polled</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">app_socket</td><td>The app socket being registered for the new peer </td></tr>
    <tr><td class="paramname">peer_addr</td><td>The logical address of the peer being registered</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A pointer to a generic sockaddr struct that can be reinterpreted by the application to send messages to the peer. The mobile node retains this pointer so that it can transparently update the peer's location </dd></dl>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#a4d04f5dc08ee0f4af5c367b1fffd5c35">SimpleMobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a196391b205ed0d0f3efe28145b253038"></a><!-- doxytag: member="MobileNode::ShutDown" ref="a196391b205ed0d0f3efe28145b253038" args="(const char *format,...)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool MobileNode::ShutDown </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>In order to kill the mobile node daemon, we use a SIGINT, which calls the <a class="el" href="classMobileNode.html#a196391b205ed0d0f3efe28145b253038">ShutDown()</a> method (closing open sockets and telling the program to exit)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The format of the message to print before exiting </td></tr>
    <tr><td class="paramname">...</td><td>The list of arguments to pass to the exit message</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>False always </dd></dl>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#ac69d586d9201a1e435c4ad952a38cdd3">SimpleMobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="a6da1ea108ee47bb2f7fd02f1f6705617"></a><!-- doxytag: member="MobileNode::Start" ref="a6da1ea108ee47bb2f7fd02f1f6705617" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool MobileNode::Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The mobile node follows a typical server-like mechanism, where the <a class="el" href="classMobileNode.html#a6da1ea108ee47bb2f7fd02f1f6705617">Start()</a> function is responsible for registering the current IP address at the designated rendezvous server, constantly updating the RS and polling the existing subscriptions for updates.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True unless there was an error connecting to the RS </dd></dl>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#a6be2d30ecfd74e51df05ac4d69aa6d14">SimpleMobileNode</a>.</p>

</div>
</div>
<a class="anchor" id="aaad6e5f3aefb61df69ee8b981e8a377e"></a><!-- doxytag: member="MobileNode::UpdateRendezvousServer" ref="aaad6e5f3aefb61df69ee8b981e8a377e" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void MobileNode::UpdateRendezvousServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The mobile agent's major function is to automatically service out updates in its location. </p>

<p>Implemented in <a class="el" href="classSimpleMobileNode.html#a9f1e21ca62a602f103d28b6180aba618">SimpleMobileNode</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/accts/tcd2/Documents/Senior/Independent_Research/Fall/PermanentIPMobility/src/MobileNode/<a class="el" href="MobileNode_8h_source.html">MobileNode.h</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classMobileNode.html">MobileNode</a>      </li>
      <li class="footer">Generated by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </li>
    </ul>
  </div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
